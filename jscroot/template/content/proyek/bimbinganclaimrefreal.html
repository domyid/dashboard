<section class="section">
    <div class="container">
        <div class="box">
            <h1 class="title has-text-centered">Scan QR Code Bimbingan</h1>
            
            <!-- Status Session -->
            <div class="field">
                <label class="label">Status:</label>
                <div class="control">
                    <span id="claim-status" class="tag is-large status-no-session">Memuat...</span>
                </div>
            </div>

            <div id="session-active-info" style="display: none;">
                <div class="field">
                    <label class="label">Session ID:</label>
                    <div class="control">
                        <span id="active-session-id" class="tag is-info"></span>
                    </div>
                </div>
            </div>

            <div id="claimed-info" style="display: none;">
                <div class="field">
                    <label class="label">Waktu Claim:</label>
                    <div class="control">
                        <span id="claimed-time"></span>
                    </div>
                </div>
            </div>

            <!-- Scanner Section -->
            <div id="scanner-section" style="display: none;">
                <h2 class="subtitle has-text-centered">Scan QR Code</h2>
                
                <div class="scanner-container">
                    <div id="qr-reader" class="qr-reader"></div>
                </div>

                <div class="manual-input">
                    <h3 class="subtitle">Atau Masukkan Kode Manual</h3>
                    <div class="field has-addons">
                        <div class="control is-expanded">
                            <input class="input" type="text" id="manual-qr-input" placeholder="Masukkan kode QR...">
                        </div>
                        <div class="control">
                            <button class="button is-primary" id="manual-claim-btn">
                                Claim
                            </button>
                        </div>
                    </div>
                </div>

                <div class="has-text-centered mt-4">
                    <button class="button is-warning" id="toggle-camera">
                        Stop Camera
                    </button>
                </div>
            </div>

            <!-- Notification -->
            <div class="notification is-hidden" id="notification">
                <button class="delete" id="close-notification"></button>
                <span id="notification-message"></span>
            </div>
        </div>
    </div>
</section>

<style>
    .scanner-container {
        max-width: 500px;
        margin: 0 auto;
    }
    .qr-reader {
        border: 2px solid #3273dc;
        border-radius: 8px;
        overflow: hidden;
    }
    .manual-input {
        margin-top: 20px;
    }
    .status-can-claim {
        background-color: #48c774;
        color: white;
    }
    .status-already-claimed {
        background-color: #ff3860;
        color: white;
    }
    .status-no-session {
        background-color: #363636;
        color: white;
    }
    #qr-reader {
        width: 100% !important;
    }
</style>